;; gorilla-repl.fileformat = 1

;; **
;;; # Clojure Wrapper over Python's yfinance API
;;; 
;;; ### Requires python, yfinance etc. to be installed on local machine
;; **

;; @@
(ns cim_portfolio.yfinanceclient
  (:require [libpython-clj2.require :refer [require-python]]
            [libpython-clj2.python :refer [py. py.. py.-] :as py]
            [clojure.data.json :as json]
  )
)

(require-python '[yfinance :as yf]
                '[datetime :as dt])
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-keyword'>:ok</span>","value":":ok"}
;; <=

;; @@
;; Test if yfinance working through clojure-python wrapper
(yf/download "AAPL" "2024-03-12")
;; @@
;; ->
;;; [*********************100%%**********************]  1 of 1 completed
;;; 
;; <-
;; =>
;;; {"type":"html","content":"<span class='clj-unkown'>                  Open        High  ...   Adj Close     Volume\nDate                                ...                       \n2024-03-12  173.149994  174.029999  ...  173.229996   59825400\n2024-03-13  172.770004  173.190002  ...  171.130005   52488700\n2024-03-14  172.910004  174.309998  ...  173.000000   72913500\n2024-03-15  171.169998  172.619995  ...  172.619995  121664700\n2024-03-18  175.570007  177.710007  ...  173.720001   75604200\n2024-03-19  174.339996  176.610001  ...  176.080002   55215200\n2024-03-20  175.720001  178.669998  ...  178.669998   53423100\n2024-03-21  177.050003  177.490005  ...  171.369995  106181300\n2024-03-22  171.759995  173.050003  ...  172.279999   71106600\n2024-03-25  170.570007  171.940002  ...  170.850006   54288300\n2024-03-26  170.000000  171.419998  ...  169.710007   57388400\n2024-03-27  170.410004  173.600006  ...  173.309998   60273300\n2024-03-28  171.750000  172.229996  ...  171.479996   65672700\n2024-04-01  171.190002  171.250000  ...  170.029999   46240500\n2024-04-02  169.080002  169.339996  ...  168.839996   49329500\n2024-04-03  168.789993  170.679993  ...  169.649994   47691700\n2024-04-04  170.289993  171.919998  ...  168.820007   53704400\n2024-04-05  169.589996  170.389999  ...  169.580002   42055200\n2024-04-08  169.029999  169.199997  ...  168.449997   37425500\n2024-04-09  168.699997  170.080002  ...  169.669998   42451200\n2024-04-10  168.800003  169.089996  ...  167.779999   49709300\n2024-04-11  168.339996  175.460007  ...  175.039993   91070300\n2024-04-12  174.259995  178.360001  ...  176.550003  101593300\n2024-04-15  175.360001  176.630005  ...  172.690002   73531800\n2024-04-16  171.750000  173.759995  ...  169.380005   73711200\n2024-04-17  169.610001  170.649994  ...  168.000000   50901200\n2024-04-18  168.029999  168.639999  ...  167.039993   43122900\n2024-04-19  166.210007  166.399994  ...  165.000000   67772100\n2024-04-22  165.520004  167.259995  ...  165.839996   48116400\n2024-04-23  165.350006  167.050003  ...  166.899994   49537800\n2024-04-24  166.539993  169.300003  ...  169.020004   48251800\n2024-04-25  169.529999  170.610001  ...  169.889999   50558300\n2024-04-26  169.880005  171.339996  ...  169.300003   44525100\n\n[33 rows x 6 columns]</span>","value":"                  Open        High  ...   Adj Close     Volume\nDate                                ...                       \n2024-03-12  173.149994  174.029999  ...  173.229996   59825400\n2024-03-13  172.770004  173.190002  ...  171.130005   52488700\n2024-03-14  172.910004  174.309998  ...  173.000000   72913500\n2024-03-15  171.169998  172.619995  ...  172.619995  121664700\n2024-03-18  175.570007  177.710007  ...  173.720001   75604200\n2024-03-19  174.339996  176.610001  ...  176.080002   55215200\n2024-03-20  175.720001  178.669998  ...  178.669998   53423100\n2024-03-21  177.050003  177.490005  ...  171.369995  106181300\n2024-03-22  171.759995  173.050003  ...  172.279999   71106600\n2024-03-25  170.570007  171.940002  ...  170.850006   54288300\n2024-03-26  170.000000  171.419998  ...  169.710007   57388400\n2024-03-27  170.410004  173.600006  ...  173.309998   60273300\n2024-03-28  171.750000  172.229996  ...  171.479996   65672700\n2024-04-01  171.190002  171.250000  ...  170.029999   46240500\n2024-04-02  169.080002  169.339996  ...  168.839996   49329500\n2024-04-03  168.789993  170.679993  ...  169.649994   47691700\n2024-04-04  170.289993  171.919998  ...  168.820007   53704400\n2024-04-05  169.589996  170.389999  ...  169.580002   42055200\n2024-04-08  169.029999  169.199997  ...  168.449997   37425500\n2024-04-09  168.699997  170.080002  ...  169.669998   42451200\n2024-04-10  168.800003  169.089996  ...  167.779999   49709300\n2024-04-11  168.339996  175.460007  ...  175.039993   91070300\n2024-04-12  174.259995  178.360001  ...  176.550003  101593300\n2024-04-15  175.360001  176.630005  ...  172.690002   73531800\n2024-04-16  171.750000  173.759995  ...  169.380005   73711200\n2024-04-17  169.610001  170.649994  ...  168.000000   50901200\n2024-04-18  168.029999  168.639999  ...  167.039993   43122900\n2024-04-19  166.210007  166.399994  ...  165.000000   67772100\n2024-04-22  165.520004  167.259995  ...  165.839996   48116400\n2024-04-23  165.350006  167.050003  ...  166.899994   49537800\n2024-04-24  166.539993  169.300003  ...  169.020004   48251800\n2024-04-25  169.529999  170.610001  ...  169.889999   50558300\n2024-04-26  169.880005  171.339996  ...  169.300003   44525100\n\n[33 rows x 6 columns]"}
;; <=

;; @@
(def pythonWrapper (py/run-simple-string "from datetime import datetime, timedelta
import yfinance as yf
def get_ticker_price_all(ticker, date):
    date = (datetime.strptime(date, '%Y-%m-%d') + timedelta(days=1)).strftime('%Y-%m-%d')
    count = 0
    while True:
        count += 1
        data = yf.download(ticker, start=date)
        if len(data) > 0:
            break
        date = (datetime.strptime(date, '%Y-%m-%d') + timedelta(days=1)).strftime('%Y-%m-%d')
        if count > 10:
            data = 'Error'
            break
    data.reset_index(inplace=True)
    data['Date'] = data['Date'].dt.strftime('%Y-%m-%d')
    return data[['Date', 'Open', 'Adj Close']].to_json(orient = 'values')"))

(def get-ticker-price-all-wrapper (:get_ticker_price_all (:globals pythonWrapper)))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;cim_portfolio.yfinanceclient/get-ticker-price-all-wrapper</span>","value":"#'cim_portfolio.yfinanceclient/get-ticker-price-all-wrapper"}
;; <=

;; @@
(defn get-ticker-price-all [ticker date]
  (json/read-str (get-ticker-price-all-wrapper ticker date))
)
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;cim_portfolio.yfinanceclient/get-ticker-price-all</span>","value":"#'cim_portfolio.yfinanceclient/get-ticker-price-all"}
;; <=

;; @@
;; Test if function is working

(get-ticker-price-all "AAPL" "2024-03-10")
;; @@
;; ->
;;; [*********************100%%**********************]  1 of 1 completed
;;; 
;; <-
;; =>
;;; {"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-03-11&quot;</span>","value":"\"2024-03-11\""},{"type":"html","content":"<span class='clj-double'>172.9400024414</span>","value":"172.9400024414"},{"type":"html","content":"<span class='clj-double'>172.75</span>","value":"172.75"}],"value":"[\"2024-03-11\" 172.9400024414 172.75]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-03-12&quot;</span>","value":"\"2024-03-12\""},{"type":"html","content":"<span class='clj-double'>173.1499938965</span>","value":"173.1499938965"},{"type":"html","content":"<span class='clj-double'>173.2299957275</span>","value":"173.2299957275"}],"value":"[\"2024-03-12\" 173.1499938965 173.2299957275]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-03-13&quot;</span>","value":"\"2024-03-13\""},{"type":"html","content":"<span class='clj-double'>172.7700042725</span>","value":"172.7700042725"},{"type":"html","content":"<span class='clj-double'>171.1300048828</span>","value":"171.1300048828"}],"value":"[\"2024-03-13\" 172.7700042725 171.1300048828]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-03-14&quot;</span>","value":"\"2024-03-14\""},{"type":"html","content":"<span class='clj-double'>172.9100036621</span>","value":"172.9100036621"},{"type":"html","content":"<span class='clj-double'>173.0</span>","value":"173.0"}],"value":"[\"2024-03-14\" 172.9100036621 173.0]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-03-15&quot;</span>","value":"\"2024-03-15\""},{"type":"html","content":"<span class='clj-double'>171.1699981689</span>","value":"171.1699981689"},{"type":"html","content":"<span class='clj-double'>172.6199951172</span>","value":"172.6199951172"}],"value":"[\"2024-03-15\" 171.1699981689 172.6199951172]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-03-18&quot;</span>","value":"\"2024-03-18\""},{"type":"html","content":"<span class='clj-double'>175.5700073242</span>","value":"175.5700073242"},{"type":"html","content":"<span class='clj-double'>173.7200012207</span>","value":"173.7200012207"}],"value":"[\"2024-03-18\" 175.5700073242 173.7200012207]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-03-19&quot;</span>","value":"\"2024-03-19\""},{"type":"html","content":"<span class='clj-double'>174.3399963379</span>","value":"174.3399963379"},{"type":"html","content":"<span class='clj-double'>176.0800018311</span>","value":"176.0800018311"}],"value":"[\"2024-03-19\" 174.3399963379 176.0800018311]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-03-20&quot;</span>","value":"\"2024-03-20\""},{"type":"html","content":"<span class='clj-double'>175.7200012207</span>","value":"175.7200012207"},{"type":"html","content":"<span class='clj-double'>178.6699981689</span>","value":"178.6699981689"}],"value":"[\"2024-03-20\" 175.7200012207 178.6699981689]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-03-21&quot;</span>","value":"\"2024-03-21\""},{"type":"html","content":"<span class='clj-double'>177.0500030518</span>","value":"177.0500030518"},{"type":"html","content":"<span class='clj-double'>171.3699951172</span>","value":"171.3699951172"}],"value":"[\"2024-03-21\" 177.0500030518 171.3699951172]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-03-22&quot;</span>","value":"\"2024-03-22\""},{"type":"html","content":"<span class='clj-double'>171.7599945068</span>","value":"171.7599945068"},{"type":"html","content":"<span class='clj-double'>172.2799987793</span>","value":"172.2799987793"}],"value":"[\"2024-03-22\" 171.7599945068 172.2799987793]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-03-25&quot;</span>","value":"\"2024-03-25\""},{"type":"html","content":"<span class='clj-double'>170.5700073242</span>","value":"170.5700073242"},{"type":"html","content":"<span class='clj-double'>170.8500061035</span>","value":"170.8500061035"}],"value":"[\"2024-03-25\" 170.5700073242 170.8500061035]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-03-26&quot;</span>","value":"\"2024-03-26\""},{"type":"html","content":"<span class='clj-double'>170.0</span>","value":"170.0"},{"type":"html","content":"<span class='clj-double'>169.7100067139</span>","value":"169.7100067139"}],"value":"[\"2024-03-26\" 170.0 169.7100067139]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-03-27&quot;</span>","value":"\"2024-03-27\""},{"type":"html","content":"<span class='clj-double'>170.4100036621</span>","value":"170.4100036621"},{"type":"html","content":"<span class='clj-double'>173.3099975586</span>","value":"173.3099975586"}],"value":"[\"2024-03-27\" 170.4100036621 173.3099975586]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-03-28&quot;</span>","value":"\"2024-03-28\""},{"type":"html","content":"<span class='clj-double'>171.75</span>","value":"171.75"},{"type":"html","content":"<span class='clj-double'>171.4799957275</span>","value":"171.4799957275"}],"value":"[\"2024-03-28\" 171.75 171.4799957275]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-04-01&quot;</span>","value":"\"2024-04-01\""},{"type":"html","content":"<span class='clj-double'>171.1900024414</span>","value":"171.1900024414"},{"type":"html","content":"<span class='clj-double'>170.0299987793</span>","value":"170.0299987793"}],"value":"[\"2024-04-01\" 171.1900024414 170.0299987793]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-04-02&quot;</span>","value":"\"2024-04-02\""},{"type":"html","content":"<span class='clj-double'>169.0800018311</span>","value":"169.0800018311"},{"type":"html","content":"<span class='clj-double'>168.8399963379</span>","value":"168.8399963379"}],"value":"[\"2024-04-02\" 169.0800018311 168.8399963379]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-04-03&quot;</span>","value":"\"2024-04-03\""},{"type":"html","content":"<span class='clj-double'>168.7899932861</span>","value":"168.7899932861"},{"type":"html","content":"<span class='clj-double'>169.6499938965</span>","value":"169.6499938965"}],"value":"[\"2024-04-03\" 168.7899932861 169.6499938965]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-04-04&quot;</span>","value":"\"2024-04-04\""},{"type":"html","content":"<span class='clj-double'>170.2899932861</span>","value":"170.2899932861"},{"type":"html","content":"<span class='clj-double'>168.8200073242</span>","value":"168.8200073242"}],"value":"[\"2024-04-04\" 170.2899932861 168.8200073242]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-04-05&quot;</span>","value":"\"2024-04-05\""},{"type":"html","content":"<span class='clj-double'>169.5899963379</span>","value":"169.5899963379"},{"type":"html","content":"<span class='clj-double'>169.5800018311</span>","value":"169.5800018311"}],"value":"[\"2024-04-05\" 169.5899963379 169.5800018311]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-04-08&quot;</span>","value":"\"2024-04-08\""},{"type":"html","content":"<span class='clj-double'>169.0299987793</span>","value":"169.0299987793"},{"type":"html","content":"<span class='clj-double'>168.4499969482</span>","value":"168.4499969482"}],"value":"[\"2024-04-08\" 169.0299987793 168.4499969482]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-04-09&quot;</span>","value":"\"2024-04-09\""},{"type":"html","content":"<span class='clj-double'>168.6999969482</span>","value":"168.6999969482"},{"type":"html","content":"<span class='clj-double'>169.6699981689</span>","value":"169.6699981689"}],"value":"[\"2024-04-09\" 168.6999969482 169.6699981689]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-04-10&quot;</span>","value":"\"2024-04-10\""},{"type":"html","content":"<span class='clj-double'>168.8000030518</span>","value":"168.8000030518"},{"type":"html","content":"<span class='clj-double'>167.7799987793</span>","value":"167.7799987793"}],"value":"[\"2024-04-10\" 168.8000030518 167.7799987793]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-04-11&quot;</span>","value":"\"2024-04-11\""},{"type":"html","content":"<span class='clj-double'>168.3399963379</span>","value":"168.3399963379"},{"type":"html","content":"<span class='clj-double'>175.0399932861</span>","value":"175.0399932861"}],"value":"[\"2024-04-11\" 168.3399963379 175.0399932861]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-04-12&quot;</span>","value":"\"2024-04-12\""},{"type":"html","content":"<span class='clj-double'>174.2599945068</span>","value":"174.2599945068"},{"type":"html","content":"<span class='clj-double'>176.5500030518</span>","value":"176.5500030518"}],"value":"[\"2024-04-12\" 174.2599945068 176.5500030518]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-04-15&quot;</span>","value":"\"2024-04-15\""},{"type":"html","content":"<span class='clj-double'>175.3600006104</span>","value":"175.3600006104"},{"type":"html","content":"<span class='clj-double'>172.6900024414</span>","value":"172.6900024414"}],"value":"[\"2024-04-15\" 175.3600006104 172.6900024414]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-04-16&quot;</span>","value":"\"2024-04-16\""},{"type":"html","content":"<span class='clj-double'>171.75</span>","value":"171.75"},{"type":"html","content":"<span class='clj-double'>169.3800048828</span>","value":"169.3800048828"}],"value":"[\"2024-04-16\" 171.75 169.3800048828]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-04-17&quot;</span>","value":"\"2024-04-17\""},{"type":"html","content":"<span class='clj-double'>169.6100006104</span>","value":"169.6100006104"},{"type":"html","content":"<span class='clj-double'>168.0</span>","value":"168.0"}],"value":"[\"2024-04-17\" 169.6100006104 168.0]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-04-18&quot;</span>","value":"\"2024-04-18\""},{"type":"html","content":"<span class='clj-double'>168.0299987793</span>","value":"168.0299987793"},{"type":"html","content":"<span class='clj-double'>167.0399932861</span>","value":"167.0399932861"}],"value":"[\"2024-04-18\" 168.0299987793 167.0399932861]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-04-19&quot;</span>","value":"\"2024-04-19\""},{"type":"html","content":"<span class='clj-double'>166.2100067139</span>","value":"166.2100067139"},{"type":"html","content":"<span class='clj-double'>165.0</span>","value":"165.0"}],"value":"[\"2024-04-19\" 166.2100067139 165.0]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-04-22&quot;</span>","value":"\"2024-04-22\""},{"type":"html","content":"<span class='clj-double'>165.5200042725</span>","value":"165.5200042725"},{"type":"html","content":"<span class='clj-double'>165.8399963379</span>","value":"165.8399963379"}],"value":"[\"2024-04-22\" 165.5200042725 165.8399963379]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-04-23&quot;</span>","value":"\"2024-04-23\""},{"type":"html","content":"<span class='clj-double'>165.3500061035</span>","value":"165.3500061035"},{"type":"html","content":"<span class='clj-double'>166.8999938965</span>","value":"166.8999938965"}],"value":"[\"2024-04-23\" 165.3500061035 166.8999938965]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-04-24&quot;</span>","value":"\"2024-04-24\""},{"type":"html","content":"<span class='clj-double'>166.5399932861</span>","value":"166.5399932861"},{"type":"html","content":"<span class='clj-double'>169.0200042725</span>","value":"169.0200042725"}],"value":"[\"2024-04-24\" 166.5399932861 169.0200042725]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-04-25&quot;</span>","value":"\"2024-04-25\""},{"type":"html","content":"<span class='clj-double'>169.5299987793</span>","value":"169.5299987793"},{"type":"html","content":"<span class='clj-double'>169.8899993896</span>","value":"169.8899993896"}],"value":"[\"2024-04-25\" 169.5299987793 169.8899993896]"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-string'>&quot;2024-04-26&quot;</span>","value":"\"2024-04-26\""},{"type":"html","content":"<span class='clj-double'>169.8800048828</span>","value":"169.8800048828"},{"type":"html","content":"<span class='clj-double'>169.3000030518</span>","value":"169.3000030518"}],"value":"[\"2024-04-26\" 169.8800048828 169.3000030518]"}],"value":"[[\"2024-03-11\" 172.9400024414 172.75] [\"2024-03-12\" 173.1499938965 173.2299957275] [\"2024-03-13\" 172.7700042725 171.1300048828] [\"2024-03-14\" 172.9100036621 173.0] [\"2024-03-15\" 171.1699981689 172.6199951172] [\"2024-03-18\" 175.5700073242 173.7200012207] [\"2024-03-19\" 174.3399963379 176.0800018311] [\"2024-03-20\" 175.7200012207 178.6699981689] [\"2024-03-21\" 177.0500030518 171.3699951172] [\"2024-03-22\" 171.7599945068 172.2799987793] [\"2024-03-25\" 170.5700073242 170.8500061035] [\"2024-03-26\" 170.0 169.7100067139] [\"2024-03-27\" 170.4100036621 173.3099975586] [\"2024-03-28\" 171.75 171.4799957275] [\"2024-04-01\" 171.1900024414 170.0299987793] [\"2024-04-02\" 169.0800018311 168.8399963379] [\"2024-04-03\" 168.7899932861 169.6499938965] [\"2024-04-04\" 170.2899932861 168.8200073242] [\"2024-04-05\" 169.5899963379 169.5800018311] [\"2024-04-08\" 169.0299987793 168.4499969482] [\"2024-04-09\" 168.6999969482 169.6699981689] [\"2024-04-10\" 168.8000030518 167.7799987793] [\"2024-04-11\" 168.3399963379 175.0399932861] [\"2024-04-12\" 174.2599945068 176.5500030518] [\"2024-04-15\" 175.3600006104 172.6900024414] [\"2024-04-16\" 171.75 169.3800048828] [\"2024-04-17\" 169.6100006104 168.0] [\"2024-04-18\" 168.0299987793 167.0399932861] [\"2024-04-19\" 166.2100067139 165.0] [\"2024-04-22\" 165.5200042725 165.8399963379] [\"2024-04-23\" 165.3500061035 166.8999938965] [\"2024-04-24\" 166.5399932861 169.0200042725] [\"2024-04-25\" 169.5299987793 169.8899993896] [\"2024-04-26\" 169.8800048828 169.3000030518]]"}
;; <=
